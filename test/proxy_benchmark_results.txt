*** Original j.l.r.Proxy

##############################################################
# Java: 1.8.0-internal-peter_2013_04_10_12_49-b00
#   VM: OpenJDK 64-Bit Server VM 25.0-b25 (mixed mode)
#   OS: Linux 3.8.4-102.fc17.x86_64 (amd64)
# CPUs: 8 (virtual)
#
#-------------------------------------------------------------
# Proxy_getProxyClass: run duration:  5,000 ms
#
# Warm up:
#           1 threads, Tavg =  2,445.76 ns/op (σ =   0.00 ns/op) [ 2,445.76]
#           1 threads, Tavg =  2,389.64 ns/op (σ =   0.00 ns/op) [ 2,389.64]
# Measure:
            1 threads, Tavg =  2,403.27 ns/op (σ =   0.00 ns/op) [ 2,403.27]
            2 threads, Tavg =  2,857.13 ns/op (σ =   1.22 ns/op) [ 2,858.35,  2,855.91]
            3 threads, Tavg =  2,941.02 ns/op (σ =  18.31 ns/op) [ 2,916.95,  2,945.19,  2,961.25]
            4 threads, Tavg =  3,039.01 ns/op (σ =  22.23 ns/op) [ 3,056.64,  3,019.15,  3,065.63,  3,015.27]
            5 threads, Tavg =  3,652.98 ns/op (σ =  62.20 ns/op) [ 3,715.53,  3,694.78,  3,687.68,  3,544.05,  3,628.22]
            6 threads, Tavg =  4,252.06 ns/op (σ = 137.22 ns/op) [ 4,220.75,  3,989.52,  4,440.52,  4,321.73,  4,264.49,  4,302.59]
            7 threads, Tavg =  4,745.67 ns/op (σ =  61.70 ns/op) [ 4,809.29,  4,769.16,  4,715.47,  4,692.55,  4,830.76,  4,765.74,  4,642.35]
            8 threads, Tavg =  5,193.58 ns/op (σ =  14.34 ns/op) [ 5,215.65,  5,195.30,  5,185.18,  5,185.25,  5,186.11,  5,211.02,  5,201.26,  5,169.16]
#
#-------------------------------------------------------------
# Proxy_isProxyClassTrue: run duration:  5,000 ms
#
# Warm up:
#           1 threads, Tavg =     95.12 ns/op (σ =   0.00 ns/op) [    95.12]
#           1 threads, Tavg =     94.98 ns/op (σ =   0.00 ns/op) [    94.98]
# Measure:
            1 threads, Tavg =     95.02 ns/op (σ =   0.00 ns/op) [    95.02]
            2 threads, Tavg =    577.47 ns/op (σ =  34.91 ns/op) [   614.42,    544.72]
            3 threads, Tavg =  1,833.98 ns/op (σ = 123.00 ns/op) [ 2,012.33,  1,728.29,  1,784.95]
            4 threads, Tavg =  2,266.29 ns/op (σ = 102.66 ns/op) [ 2,260.99,  2,231.88,  2,435.30,  2,155.02]
            5 threads, Tavg =  3,063.85 ns/op (σ =  21.18 ns/op) [ 3,073.74,  3,070.79,  3,089.57,  3,059.70,  3,026.20]
            6 threads, Tavg =  3,510.36 ns/op (σ =  47.18 ns/op) [ 3,457.57,  3,601.64,  3,478.86,  3,491.00,  3,499.18,  3,537.68]
            7 threads, Tavg =  4,187.63 ns/op (σ =  27.45 ns/op) [ 4,199.99,  4,135.50,  4,177.05,  4,166.16,  4,206.21,  4,215.87,  4,213.90]
            8 threads, Tavg =  4,782.29 ns/op (σ = 274.82 ns/op) [ 4,817.05,  5,026.20,  4,784.36,  4,103.67,  4,847.51,  4,982.26,  4,893.93,  4,944.36]
#
#-------------------------------------------------------------
# Proxy_isProxyClassFalse: run duration:  5,000 ms
#
# Warm up:
#           1 threads, Tavg =     64.27 ns/op (σ =   0.00 ns/op) [    64.27]
#           1 threads, Tavg =     63.93 ns/op (σ =   0.00 ns/op) [    63.93]
# Measure:
            1 threads, Tavg =     95.02 ns/op (σ =   0.00 ns/op) [    95.02]
            2 threads, Tavg =    599.59 ns/op (σ =   3.55 ns/op) [   603.16,    596.07]
            3 threads, Tavg =  1,594.84 ns/op (σ =  27.66 ns/op) [ 1,629.36,  1,561.61,  1,594.98]
            4 threads, Tavg =  2,186.59 ns/op (σ =  51.36 ns/op) [ 2,123.59,  2,246.95,  2,152.16,  2,228.46]
            5 threads, Tavg =  2,919.45 ns/op (σ =  43.68 ns/op) [ 2,940.82,  2,934.57,  2,961.15,  2,835.57,  2,928.46]
            6 threads, Tavg =  2,917.85 ns/op (σ =  55.20 ns/op) [ 2,974.22,  2,870.14,  3,014.52,  2,893.08,  2,887.70,  2,873.59]
            7 threads, Tavg =  4,188.03 ns/op (σ =  52.05 ns/op) [ 4,235.57,  4,248.35,  4,193.16,  4,244.93,  4,122.79,  4,121.65,  4,154.28]
            8 threads, Tavg =  4,891.15 ns/op (σ =  76.49 ns/op) [ 4,964.43,  4,932.04,  4,854.98,  4,797.26,  4,826.26,  4,798.93,  4,993.88,  4,970.98]
#
#-------------------------------------------------------------
# Annotation_equals: run duration:  5,000 ms
#
# Warm up:
#           1 threads, Tavg =    241.91 ns/op (σ =   0.00 ns/op) [   241.91]
#           1 threads, Tavg =    238.78 ns/op (σ =   0.00 ns/op) [   238.78]
# Measure:
            1 threads, Tavg =    240.10 ns/op (σ =   0.00 ns/op) [   240.10]
            2 threads, Tavg =    638.54 ns/op (σ =   3.02 ns/op) [   641.58,    635.54]
            3 threads, Tavg =  1,249.49 ns/op (σ =  36.86 ns/op) [ 1,221.30,  1,302.52,  1,227.84]
            4 threads, Tavg =  1,864.06 ns/op (σ =  47.25 ns/op) [ 1,816.46,  1,939.45,  1,871.39,  1,833.64]
            5 threads, Tavg =  4,491.67 ns/op (σ =  92.43 ns/op) [ 4,605.56,  4,416.34,  4,393.49,  4,448.59,  4,603.81]
            6 threads, Tavg =  7,562.53 ns/op (σ =  49.61 ns/op) [ 7,559.25,  7,664.58,  7,535.61,  7,573.56,  7,532.58,  7,511.52]
            7 threads, Tavg =  8,649.28 ns/op (σ =  52.86 ns/op) [ 8,700.63,  8,619.52,  8,645.00,  8,584.68,  8,730.72,  8,584.81,  8,681.82]
            8 threads, Tavg =  8,639.20 ns/op (σ = 210.85 ns/op) [ 8,690.01,  8,866.95,  8,223.37,  8,715.41,  8,770.44,  8,877.61,  8,425.70,  8,586.04]
#
#-------------------------------------------------------------
# END.
##############################################################


*** Patched j.l.r.Proxy (WeakCache using validation in getProxyClass0)

##############################################################
# Java: 1.8.0-internal-peter_2013_04_19_08_58-b00
#   VM: OpenJDK 64-Bit Server VM 25.0-b28 (mixed mode)
#   OS: Linux 3.8.4-102.fc17.x86_64 (amd64)
# CPUs: 8 (virtual)
#
#-------------------------------------------------------------
# Proxy_getProxyClass: run duration:  5,000 ms
#
# Warm up:
#           1 threads, Tavg =  2,198.24 ns/op (σ =   0.00 ns/op) [ 2,198.24]
#           1 threads, Tavg =  2,165.95 ns/op (σ =   0.00 ns/op) [ 2,165.95]
# Measure:
            1 threads, Tavg =  2,174.51 ns/op (σ =   0.00 ns/op) [ 2,174.51]
            2 threads, Tavg =  2,315.13 ns/op (σ =   1.05 ns/op) [ 2,314.07,  2,316.18]
            3 threads, Tavg =  2,353.68 ns/op (σ =   2.43 ns/op) [ 2,355.79,  2,350.28,  2,354.98]
            4 threads, Tavg =  2,555.00 ns/op (σ =  34.98 ns/op) [ 2,523.52,  2,532.55,  2,613.25,  2,552.58]
            5 threads, Tavg =  2,921.63 ns/op (σ = 122.77 ns/op) [ 2,797.64,  2,829.22,  3,051.52,  2,858.54,  3,096.56]
            6 threads, Tavg =  3,411.70 ns/op (σ = 152.92 ns/op) [ 3,255.06,  3,501.53,  3,669.18,  3,481.74,  3,223.29,  3,380.03]
            7 threads, Tavg =  3,837.83 ns/op (σ = 119.74 ns/op) [ 3,952.02,  3,999.22,  3,817.97,  3,751.38,  3,826.67,  3,921.40,  3,622.65]
            8 threads, Tavg =  4,273.42 ns/op (σ =  23.05 ns/op) [ 4,266.62,  4,216.29,  4,286.75,  4,274.38,  4,282.57,  4,279.76,  4,294.25,  4,287.74]
#
#-------------------------------------------------------------
# Proxy_isProxyClassTrue: run duration:  5,000 ms
#
# Warm up:
#           1 threads, Tavg =     45.83 ns/op (σ =   0.00 ns/op) [    45.83]
#           1 threads, Tavg =     46.01 ns/op (σ =   0.00 ns/op) [    46.01]
# Measure:
            1 threads, Tavg =     43.14 ns/op (σ =   0.00 ns/op) [    43.14]
            2 threads, Tavg =     44.02 ns/op (σ =   1.00 ns/op) [    45.04,     43.04]
            3 threads, Tavg =     43.10 ns/op (σ =   0.07 ns/op) [    43.05,     43.05,     43.21]
            4 threads, Tavg =     43.23 ns/op (σ =   0.10 ns/op) [    43.37,     43.11,     43.25,     43.19]
            5 threads, Tavg =     51.09 ns/op (σ =  13.67 ns/op) [    43.10,     70.45,     43.29,     70.37,     43.17]
            6 threads, Tavg =     58.27 ns/op (σ =  11.26 ns/op) [    48.55,     70.86,     70.84,     69.18,     43.22,     60.39]
            7 threads, Tavg =     68.28 ns/op (σ =  18.38 ns/op) [    87.31,     90.73,     80.56,     87.92,     74.22,     48.55,     45.08]
            8 threads, Tavg =     72.06 ns/op (σ =  11.93 ns/op) [    90.15,     53.93,     70.32,     71.95,     70.49,     93.77,     70.39,     70.35]
#
#-------------------------------------------------------------
# Proxy_isProxyClassFalse: run duration:  5,000 ms
#
# Warm up:
#           1 threads, Tavg =      1.36 ns/op (σ =   0.00 ns/op) [     1.36]
#           1 threads, Tavg =      1.36 ns/op (σ =   0.00 ns/op) [     1.36]
# Measure:
            1 threads, Tavg =      1.36 ns/op (σ =   0.00 ns/op) [     1.36]
            2 threads, Tavg =      1.37 ns/op (σ =   0.01 ns/op) [     1.38,      1.36]
            3 threads, Tavg =      1.36 ns/op (σ =   0.00 ns/op) [     1.36,      1.36,      1.36]
            4 threads, Tavg =      1.36 ns/op (σ =   0.01 ns/op) [     1.36,      1.36,      1.37,      1.36]
            5 threads, Tavg =      1.71 ns/op (σ =   0.53 ns/op) [     2.05,      1.64,      1.36,      2.74,      1.36]
            6 threads, Tavg =      2.04 ns/op (σ =   0.65 ns/op) [     2.71,      1.36,      2.56,      1.40,      2.73,      2.72]
            7 threads, Tavg =      2.40 ns/op (σ =   0.42 ns/op) [     2.72,      2.74,      2.47,      2.54,      2.79,      2.64,      1.53]
            8 threads, Tavg =      2.72 ns/op (σ =   0.47 ns/op) [     3.05,      2.95,      3.63,      2.89,      2.71,      2.61,      2.75,      1.87]
#
#-------------------------------------------------------------
# Annotation_equals: run duration:  5,000 ms
#
# Warm up:
#           1 threads, Tavg =    197.25 ns/op (σ =   0.00 ns/op) [   197.25]
#           1 threads, Tavg =    192.44 ns/op (σ =   0.00 ns/op) [   192.44]
# Measure:
            1 threads, Tavg =    195.68 ns/op (σ =   0.00 ns/op) [   195.68]
            2 threads, Tavg =    194.68 ns/op (σ =   0.11 ns/op) [   194.79,    194.57]
            3 threads, Tavg =    194.86 ns/op (σ =   0.19 ns/op) [   195.13,    194.70,    194.76]
            4 threads, Tavg =    201.41 ns/op (σ =   0.38 ns/op) [   201.70,    200.78,    201.73,    201.45]
            5 threads, Tavg =    233.95 ns/op (σ =   9.60 ns/op) [   236.18,    240.84,    217.76,    231.22,    245.74]
            6 threads, Tavg =    266.14 ns/op (σ =   9.20 ns/op) [   275.03,    252.53,    268.96,    279.64,    259.52,    263.08]
            7 threads, Tavg =    300.65 ns/op (σ =  12.83 ns/op) [   272.32,    311.55,    311.84,    300.79,    298.32,    310.16,    303.63]
            8 threads, Tavg =    337.46 ns/op (σ =   1.70 ns/op) [   336.49,    335.10,    338.76,    338.11,    339.93,    336.73,    335.33,    339.30]
#
#-------------------------------------------------------------
# END.
##############################################################


*** Patched j.l.r.Proxy (WeakCache using validation in ValueFactory but an interface-based key instead of interface-name based)

##############################################################
# Java: 1.8.0-internal-peter_2013_04_19_08_58-b00
#   VM: OpenJDK 64-Bit Server VM 25.0-b28 (mixed mode)
#   OS: Linux 3.8.4-102.fc17.x86_64 (amd64)
# CPUs: 8 (virtual)
#
#-------------------------------------------------------------
# Proxy_getProxyClass: run duration:  5,000 ms
#
# Warm up:
#           1 threads, Tavg =    166.03 ns/op (σ =   0.00 ns/op) [   166.03]
#           1 threads, Tavg =    164.05 ns/op (σ =   0.00 ns/op) [   164.05]
# Measure:
            1 threads, Tavg =    163.57 ns/op (σ =   0.00 ns/op) [   163.57]
            2 threads, Tavg =    169.67 ns/op (σ =   0.02 ns/op) [   169.69,    169.64]
            3 threads, Tavg =    180.79 ns/op (σ =   8.01 ns/op) [   187.29,    169.85,    186.33]
            4 threads, Tavg =    211.70 ns/op (σ =   3.44 ns/op) [   214.44,    205.91,    212.70,    213.98]
            5 threads, Tavg =    267.63 ns/op (σ =  15.58 ns/op) [   270.29,    289.12,    241.29,    274.75,    267.39]
            6 threads, Tavg =    279.76 ns/op (σ =   5.53 ns/op) [   277.95,    284.69,    270.79,    278.79,    288.33,    278.65]
            7 threads, Tavg =    309.48 ns/op (σ =   4.65 ns/op) [   312.92,    314.14,    311.38,    311.97,    304.81,    311.28,    300.38]
            8 threads, Tavg =    322.14 ns/op (σ =  21.40 ns/op) [   333.83,    283.06,    339.58,    332.28,    349.60,    316.26,    297.75,    336.66]
#
#-------------------------------------------------------------
# Proxy_isProxyClassTrue: run duration:  5,000 ms
#
# Warm up:
#           1 threads, Tavg =     44.31 ns/op (σ =   0.00 ns/op) [    44.31]
#           1 threads, Tavg =     43.93 ns/op (σ =   0.00 ns/op) [    43.93]
# Measure:
            1 threads, Tavg =     41.23 ns/op (σ =   0.00 ns/op) [    41.23]
            2 threads, Tavg =     41.26 ns/op (σ =   0.03 ns/op) [    41.23,     41.29]
            3 threads, Tavg =     41.28 ns/op (σ =   0.04 ns/op) [    41.23,     41.26,     41.33]
            4 threads, Tavg =     42.20 ns/op (σ =   0.15 ns/op) [    42.09,     42.02,     42.33,     42.37]
            5 threads, Tavg =     48.99 ns/op (σ =  13.29 ns/op) [    41.31,     41.37,     67.79,     41.36,     67.81]
            6 threads, Tavg =     55.92 ns/op (σ =  12.87 ns/op) [    67.78,     67.83,     41.36,     67.76,     68.06,     41.39]
            7 threads, Tavg =     62.20 ns/op (σ =   9.11 ns/op) [    68.01,     67.80,     66.00,     67.82,     68.05,     67.86,     42.10]
            8 threads, Tavg =     72.21 ns/op (σ =  34.59 ns/op) [    68.18,     41.45,     68.80,    139.02,     68.32,     69.49,     71.86,    136.32]
#
#-------------------------------------------------------------
# Proxy_isProxyClassFalse: run duration:  5,000 ms
#
# Warm up:
#           1 threads, Tavg =      1.36 ns/op (σ =   0.00 ns/op) [     1.36]
#           1 threads, Tavg =      1.36 ns/op (σ =   0.00 ns/op) [     1.36]
# Measure:
            1 threads, Tavg =      1.36 ns/op (σ =   0.00 ns/op) [     1.36]
            2 threads, Tavg =      1.36 ns/op (σ =   0.00 ns/op) [     1.36,      1.36]
            3 threads, Tavg =      1.36 ns/op (σ =   0.00 ns/op) [     1.36,      1.36,      1.36]
            4 threads, Tavg =      1.36 ns/op (σ =   0.00 ns/op) [     1.37,      1.36,      1.36,      1.36]
            5 threads, Tavg =      1.70 ns/op (σ =   0.69 ns/op) [     1.36,      1.36,      2.71,      1.37,      2.72]
            6 threads, Tavg =      2.09 ns/op (σ =   0.62 ns/op) [     2.45,      1.41,      2.79,      1.48,      2.75,      2.76]
            7 threads, Tavg =      2.39 ns/op (σ =   1.40 ns/op) [     2.71,      1.46,      4.72,      2.71,      2.76,      1.37,      4.83]
            8 threads, Tavg =      2.72 ns/op (σ =   0.92 ns/op) [     2.71,      4.11,      3.77,      3.82,      1.69,      1.80,      2.71,      3.51]
#
#-------------------------------------------------------------
# Annotation_equals: run duration:  5,000 ms
#
# Warm up:
#           1 threads, Tavg =    194.12 ns/op (σ =   0.00 ns/op) [   194.12]
#           1 threads, Tavg =    190.99 ns/op (σ =   0.00 ns/op) [   190.99]
# Measure:
            1 threads, Tavg =    194.61 ns/op (σ =   0.00 ns/op) [   194.61]
            2 threads, Tavg =    194.61 ns/op (σ =   0.05 ns/op) [   194.67,    194.56]
            3 threads, Tavg =    197.24 ns/op (σ =   0.21 ns/op) [   197.40,    197.38,    196.95]
            4 threads, Tavg =    198.81 ns/op (σ =   0.69 ns/op) [   199.47,    197.67,    199.22,    198.89]
            5 threads, Tavg =    234.23 ns/op (σ =  13.61 ns/op) [   214.32,    255.18,    241.77,    228.50,    235.32]
            6 threads, Tavg =    266.63 ns/op (σ =   6.78 ns/op) [   260.42,    266.96,    259.37,    271.29,    263.71,    279.05]
            7 threads, Tavg =    298.70 ns/op (σ =   7.29 ns/op) [   310.13,    291.55,    302.49,    302.59,    302.47,    286.90,    296.04]
            8 threads, Tavg =    342.90 ns/op (σ =   2.08 ns/op) [   339.37,    346.00,    343.80,    342.23,    341.81,    343.54,    345.43,    341.09]
#
#-------------------------------------------------------------
# END.
##############################################################


Summary (4 Cores x 2 Threads i7 CPU):

Test                     Threads  ns/op Original  WeakCache#1  WeakCache#2
=======================  =======  ==============  ===========  ===========
Proxy_getProxyClass            1        2,403.27     2,174.51       163.57
                               4        3,039.01     2,555.00       211.70
                               8        5,193.58     4,273.42       322.14

Proxy_isProxyClassTrue         1           95.02        43.14        41.23
                               4        2,266.29        43.23        42.20
                               8        4,782.29        72.06        72.21

Proxy_isProxyClassFalse        1           95.02         1.36         1.36
                               4        2,186.59         1.36         1.36
                               8        4,891.15         2.72         2.72

Annotation_equals              1          240.10       195.68       194.61
                               4        1,864.06       201.41       198.81
                               8        8,639.20       337.46       342.90
