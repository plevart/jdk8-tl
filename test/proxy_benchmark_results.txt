*** Original j.l.r.Proxy

##############################################################
# Java: 1.8.0-internal-peter_2013_04_20_09_41-b00
#   VM: OpenJDK 64-Bit Server VM 25.0-b28 (mixed mode)
#   OS: Linux 3.8.7-201.fc18.x86_64 (amd64)
# CPUs: 8 (virtual)
#
#-------------------------------------------------------------
# Proxy_getProxyClass: run duration:  5,000 ms
#
# Warm up:
#           1 threads, Tavg =  2,424.04 ns/op (σ =   0.00 ns/op) [ 2,424.04]
#           1 threads, Tavg =  2,441.28 ns/op (σ =   0.00 ns/op) [ 2,441.28]
# Measure:
            1 threads, Tavg =  2,420.99 ns/op (σ =   0.00 ns/op) [ 2,420.99]
            2 threads, Tavg =  2,787.64 ns/op (σ =   0.22 ns/op) [ 2,787.41,  2,787.86]
            3 threads, Tavg =  2,911.52 ns/op (σ =   1.19 ns/op) [ 2,911.63,  2,912.92,  2,910.00]
            4 threads, Tavg =  3,075.39 ns/op (σ =  22.40 ns/op) [ 3,056.07,  3,085.45,  3,107.59,  3,053.12]
            5 threads, Tavg =  3,763.23 ns/op (σ = 128.31 ns/op) [ 3,566.28,  3,817.96,  3,683.49,  3,838.43,  3,932.13]
            6 threads, Tavg =  4,355.57 ns/op (σ = 162.65 ns/op) [ 4,491.72,  4,516.55,  4,174.32,  4,524.34,  4,337.17,  4,126.20]
            7 threads, Tavg =  4,908.41 ns/op (σ =  93.57 ns/op) [ 4,851.60,  5,054.86,  4,875.71,  4,959.27,  4,755.11,  4,999.74,  4,875.06]
            8 threads, Tavg =  5,374.45 ns/op (σ =  12.69 ns/op) [ 5,377.32,  5,369.35,  5,383.47,  5,379.25,  5,373.57,  5,382.71,  5,386.35,  5,343.82]
#
#-------------------------------------------------------------
# Proxy_isProxyClassTrue: run duration:  5,000 ms
#
# Warm up:
#           1 threads, Tavg =     98.03 ns/op (σ =   0.00 ns/op) [    98.03]
#           1 threads, Tavg =     97.77 ns/op (σ =   0.00 ns/op) [    97.77]
# Measure:
            1 threads, Tavg =     97.75 ns/op (σ =   0.00 ns/op) [    97.75]
            2 threads, Tavg =    619.85 ns/op (σ =  23.68 ns/op) [   644.42,    597.08]
            3 threads, Tavg =    721.60 ns/op (σ =   8.61 ns/op) [   721.91,    711.06,    732.15]
            4 threads, Tavg =  2,505.92 ns/op (σ =  79.56 ns/op) [ 2,484.38,  2,521.35,  2,403.34,  2,624.65]
            5 threads, Tavg =  3,093.17 ns/op (σ = 102.59 ns/op) [ 3,234.33,  3,003.87,  3,081.47,  2,971.29,  3,191.79]
            6 threads, Tavg =  3,833.36 ns/op (σ =  55.31 ns/op) [ 3,901.93,  3,907.42,  3,836.77,  3,755.24,  3,807.41,  3,796.17]
            7 threads, Tavg =  4,375.39 ns/op (σ = 121.37 ns/op) [ 4,337.81,  4,245.57,  4,426.54,  4,629.06,  4,431.94,  4,295.60,  4,284.12]
            8 threads, Tavg =  5,042.61 ns/op (σ =  98.52 ns/op) [ 5,049.82,  5,098.52,  4,858.28,  5,121.58,  5,122.48,  5,077.19,  4,902.36,  5,126.34]
#
#-------------------------------------------------------------
# Proxy_isProxyClassFalse: run duration:  5,000 ms
#
# Warm up:
#           1 threads, Tavg =     66.24 ns/op (σ =   0.00 ns/op) [    66.24]
#           1 threads, Tavg =     65.88 ns/op (σ =   0.00 ns/op) [    65.88]
# Measure:
            1 threads, Tavg =     89.20 ns/op (σ =   0.00 ns/op) [    89.20]
            2 threads, Tavg =    585.51 ns/op (σ =  22.09 ns/op) [   608.41,    564.26]
            3 threads, Tavg =    964.86 ns/op (σ =  29.60 ns/op) [   952.75,    937.81,  1,006.69]
            4 threads, Tavg =  2,548.61 ns/op (σ =  91.21 ns/op) [ 2,662.78,  2,412.83,  2,590.48,  2,541.59]
            5 threads, Tavg =  2,922.87 ns/op (σ =  34.63 ns/op) [ 2,940.47,  2,901.78,  2,942.61,  2,964.51,  2,867.04]
            6 threads, Tavg =  3,566.97 ns/op (σ =  42.32 ns/op) [ 3,496.45,  3,590.44,  3,531.83,  3,613.32,  3,563.13,  3,609.69]
            7 threads, Tavg =  4,083.54 ns/op (σ =  70.39 ns/op) [ 4,097.49,  4,180.29,  4,018.24,  4,076.05,  4,189.32,  4,000.61,  4,031.17]
            8 threads, Tavg =  4,901.56 ns/op (σ =  60.54 ns/op) [ 4,892.81,  4,887.47,  4,835.02,  4,968.84,  4,876.03,  5,029.94,  4,855.42,  4,872.81]
#
#-------------------------------------------------------------
# Annotation_equals: run duration:  5,000 ms
#
# Warm up:
#           1 threads, Tavg =    231.80 ns/op (σ =   0.00 ns/op) [   231.80]
#           1 threads, Tavg =    228.34 ns/op (σ =   0.00 ns/op) [   228.34]
# Measure:
            1 threads, Tavg =    224.39 ns/op (σ =   0.00 ns/op) [   224.39]
            2 threads, Tavg =    682.80 ns/op (σ =   7.69 ns/op) [   675.20,    690.57]
            3 threads, Tavg =  1,243.77 ns/op (σ =  23.81 ns/op) [ 1,224.11,  1,277.65,  1,230.91]
            4 threads, Tavg =  2,046.21 ns/op (σ =  18.20 ns/op) [ 2,035.24,  2,027.67,  2,047.03,  2,075.54]
            5 threads, Tavg =  5,346.39 ns/op (σ =  82.85 ns/op) [ 5,447.79,  5,204.05,  5,402.89,  5,325.42,  5,358.27]
            6 threads, Tavg =  3,433.05 ns/op (σ =  51.39 ns/op) [ 3,351.80,  3,512.49,  3,448.76,  3,471.06,  3,417.40,  3,401.42]
            7 threads, Tavg =  2,193.75 ns/op (σ =  53.52 ns/op) [ 2,214.08,  2,234.41,  2,106.91,  2,124.93,  2,201.90,  2,218.67,  2,264.60]
            8 threads, Tavg =  3,564.78 ns/op (σ = 165.35 ns/op) [ 3,565.99,  3,987.62,  3,439.14,  3,530.37,  3,441.15,  3,551.29,  3,479.45,  3,579.65]
#
#-------------------------------------------------------------
# END.
##############################################################


*** Patched j.l.r.Proxy (WeakCache using post-validation of interface visibility)

##############################################################
# Java: 1.8.0-internal-peter_2013_04_20_09_41-b00
#   VM: OpenJDK 64-Bit Server VM 25.0-b28 (mixed mode)
#   OS: Linux 3.8.7-201.fc18.x86_64 (amd64)
# CPUs: 8 (virtual)
#
#-------------------------------------------------------------
# Proxy_getProxyClass: run duration:  5,000 ms
#
# Warm up:
#           1 threads, Tavg =    207.72 ns/op (σ =   0.00 ns/op) [   207.72]
#           1 threads, Tavg =    204.76 ns/op (σ =   0.00 ns/op) [   204.76]
# Measure:
            1 threads, Tavg =    211.04 ns/op (σ =   0.00 ns/op) [   211.04]
            2 threads, Tavg =    261.38 ns/op (σ =  18.81 ns/op) [   243.96,    281.48]
            3 threads, Tavg =    278.75 ns/op (σ =   0.88 ns/op) [   277.78,    279.91,    278.58]
            4 threads, Tavg =    282.93 ns/op (σ =  15.93 ns/op) [   256.43,    295.02,    291.24,    292.85]
            5 threads, Tavg =    316.73 ns/op (σ =  23.24 ns/op) [   287.67,    328.85,    356.36,    313.65,    305.35]
            6 threads, Tavg =    385.38 ns/op (σ =  23.17 ns/op) [   348.25,    413.74,    368.79,    403.85,    380.80,    405.39]
            7 threads, Tavg =    398.56 ns/op (σ =  17.34 ns/op) [   415.68,    392.49,    390.65,    370.70,    424.54,    411.84,    389.32]
            8 threads, Tavg =    432.14 ns/op (σ =  10.44 ns/op) [   436.60,    429.56,    434.88,    427.57,    442.49,    440.52,    439.63,    407.97]
#
#-------------------------------------------------------------
# Proxy_isProxyClassTrue: run duration:  5,000 ms
#
# Warm up:
#           1 threads, Tavg =     45.61 ns/op (σ =   0.00 ns/op) [    45.61]
#           1 threads, Tavg =     45.21 ns/op (σ =   0.00 ns/op) [    45.21]
# Measure:
            1 threads, Tavg =     42.67 ns/op (σ =   0.00 ns/op) [    42.67]
            2 threads, Tavg =     42.69 ns/op (σ =   0.01 ns/op) [    42.70,     42.68]
            3 threads, Tavg =     42.72 ns/op (σ =   0.03 ns/op) [    42.73,     42.67,     42.75]
            4 threads, Tavg =     42.77 ns/op (σ =   0.09 ns/op) [    42.72,     42.68,     42.77,     42.90]
            5 threads, Tavg =     51.42 ns/op (σ =  13.52 ns/op) [    70.49,     45.09,     42.84,     42.84,     70.49]
            6 threads, Tavg =     57.69 ns/op (σ =  13.08 ns/op) [    69.71,     69.77,     42.93,     69.79,     42.76,     69.90]
            7 threads, Tavg =     66.60 ns/op (σ =  19.65 ns/op) [    49.84,     77.74,     72.86,     44.48,    106.80,     73.40,     77.02]
            8 threads, Tavg =     73.20 ns/op (σ =  28.56 ns/op) [    69.88,     70.19,    123.01,     44.09,    129.41,     71.85,     69.93,     71.47]
#
#-------------------------------------------------------------
# Proxy_isProxyClassFalse: run duration:  5,000 ms
#
# Warm up:
#           1 threads, Tavg =      1.41 ns/op (σ =   0.00 ns/op) [     1.41]
#           1 threads, Tavg =      1.40 ns/op (σ =   0.00 ns/op) [     1.40]
# Measure:
            1 threads, Tavg =      1.40 ns/op (σ =   0.00 ns/op) [     1.40]
            2 threads, Tavg =      1.40 ns/op (σ =   0.00 ns/op) [     1.40,      1.40]
            3 threads, Tavg =      1.40 ns/op (σ =   0.00 ns/op) [     1.40,      1.40,      1.40]
            4 threads, Tavg =      1.40 ns/op (σ =   0.00 ns/op) [     1.40,      1.40,      1.41,      1.41]
            5 threads, Tavg =      1.75 ns/op (σ =   0.71 ns/op) [     2.80,      1.41,      1.41,      1.40,      2.80]
            6 threads, Tavg =      2.10 ns/op (σ =   0.69 ns/op) [     1.40,      2.79,      2.80,      1.41,      2.80,      2.80]
            7 threads, Tavg =      2.46 ns/op (σ =   0.47 ns/op) [     2.55,      2.82,      1.48,      2.74,      2.83,      2.82,      2.79]
            8 threads, Tavg =      2.80 ns/op (σ =   1.46 ns/op) [     4.66,      4.41,      2.86,      1.49,      2.81,      1.62,      4.55,      5.00]
#
#-------------------------------------------------------------
# Annotation_equals: run duration:  5,000 ms
#
# Warm up:
#           1 threads, Tavg =    198.01 ns/op (σ =   0.00 ns/op) [   198.01]
#           1 threads, Tavg =    198.11 ns/op (σ =   0.00 ns/op) [   198.11]
# Measure:
            1 threads, Tavg =    202.97 ns/op (σ =   0.00 ns/op) [   202.97]
            2 threads, Tavg =    202.20 ns/op (σ =   0.05 ns/op) [   202.14,    202.25]
            3 threads, Tavg =    203.41 ns/op (σ =   0.18 ns/op) [   203.21,    203.38,    203.64]
            4 threads, Tavg =    204.89 ns/op (σ =   0.42 ns/op) [   205.57,    204.45,    204.89,    204.63]
            5 threads, Tavg =    243.75 ns/op (σ =  10.24 ns/op) [   230.06,    245.48,    246.77,    260.74,    237.80]
            6 threads, Tavg =    277.02 ns/op (σ =   7.15 ns/op) [   280.14,    286.32,    266.82,    277.56,    268.95,    283.42]
            7 threads, Tavg =    309.62 ns/op (σ =  10.44 ns/op) [   318.46,    304.83,    305.17,    325.16,    290.22,    312.44,    313.57]
            8 threads, Tavg =    344.57 ns/op (σ =   1.69 ns/op) [   347.21,    341.88,    343.40,    345.58,    346.70,    344.34,    343.34,    344.17]
#
#-------------------------------------------------------------
# END.
##############################################################


Summary (4 Cores x 2 Threads i7 CPU):

                                        ns/op   WeakCache+   WeakCache+
Test                     Threads     Original   pre-valid.  post-valid.
=======================  =======  ===========  ===========  ===========
Proxy_getProxyClass            1     2,420.99     2,174.51       211.04
                               4     3,075.39     2,555.00       282.93
                               8     5,374.45     4,273.42       432.14

Proxy_isProxyClassTrue         1        97.75        43.14        42.67
                               4     2,505.92        43.23        42.77
                               8     5,042.61        72.06        73.20

Proxy_isProxyClassFalse        1        89.20         1.36         1.40
                               4     2,548.61         1.36         1.40
                               8     4,901.56         2.72         2.80

Annotation_equals              1       224.39       195.68       202.97
                               4     2,046.21       201.41       204.89
                               8     3,564.78       337.46       344.57
